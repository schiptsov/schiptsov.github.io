<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2023-04-11 Tue 19:53 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>The monument of human stupidity</title>
<meta name="author" content="&lt;schiptsov@gmail.com&gt;" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="preconnect" href="https://fonts.googleapis.com">

<link href="https://fonts.googleapis.com/css?family=Fira Sans" rel="stylesheet">

<link href="https://fonts.googleapis.com/css?family=Fira Code" rel="stylesheet">

<link rel='stylesheet' type='text/css' href='/css/main.css'/>
<script>
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
// @license-end
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href=""> UP </a>
 |
 <a accesskey="H" href="index.html"> HOME </a>
</div><div id="content" class="content">
<header>
<h1 class="title">The monument of human stupidity</h1>
</header>
<div id="outline-container-orgcf21ea7" class="outline-2">
<h2 id="orgcf21ea7">The monument of human stupidity</h2>
<div class="outline-text-2" id="text-orgcf21ea7">
<p>
The most embarrassing of it all is the idiotic insistence on piling up more
and more imperative crap on designs based on fundamentally unsound
principles, both in the language design and the implementation.
</p>

<p>
The 2000s boom of notoriously crappy Java literature ruined the book industry
forever as a side effect. Now they just print 300+ pages amateur blogposts.
</p>

<p>
A <i>mutable state</i> cannot be guaranteed to remain consistent in an multi-execution
(multi-processor) environment. Only in single-threaded contexts.
</p>

<p>
This is just an evolutionary rejection of an in principle flawed set of
arrangements - this <i>cannot be stable</i>.
</p>

<p>
Imperative crap lacks true cell &ldquo;membranes&rdquo; or non-leaking abstraction
barriers, as well as <i>immutability</i>.
</p>

<p>
Imperative OO crap makes things even worse by providing <i>unsound
/&ldquo;encapsulation&rdquo;</i> of a mutable state - a flawed cell &ldquo;membrane&rdquo;. These
&ldquo;cells&rdquo; are just fundamentally broken.
</p>

<p>
Every method of every object must be designed to be <i>re-enterable</i> (and
have mandatory <i>locks around the state</i>), but, of course, most of the code are not.
</p>

<p>
Java, being an imperative OO clustefuck with inconsistent typing (even
in C++ - the JVM&rsquo;s implementation language!) and shared multi-threaded
design, is doomed to always be buggy and to be exponentially slowing
down in its improvement (already happened) due to not being able to fix
concurrency flaws and subtle bugs - too much time and resources will be spent in vain.
</p>

<p>
Unrestricted (arbitrary) <i>overwriting</i> of memory locations (from another
thread or a process), which we call &ldquo;sharing&rdquo;, cannot be fixed in principle.
</p>

<p>
There is a combination of features that cannot be combined in
principle - <i>objects, destructive over-writing, multi-threading, shared stack and
exceptions</i>. There is no way out from this and what we have is <i>the sunken
costs fallacy</i>.
</p>

<p>
<i>Exceptions</i> break the shared stack, multi-threading and destructive
updates break <i>an internal</i> state of objects <i>in a random,
non-reproducible way</i>. Even if your code takes some care, your
dependencies all the way down, do not.
</p>

<p>
There is another principle. One cannot make a truly non-blocking
(asynchronous) system with blocking (synchronous) primitives. Hardware
and Erlang guys knew that. <i>A method calls is not an adequate primitive</i>.
</p>

<p>
Java is indeed the monument to human stupidity, and &ldquo;shared mutable state&rdquo;
is manifestation of ignorance and the cause of suffering.
</p>

<p>
First, one cannot model proper <i>asynchronous /message-passing</i> using <i>calls
to methods</i> within a single thread, because a method call implies a
transfer of control with a return address on the stack (a suspension).
It requires <i>sending</i> to a &ldquo;port&rdquo; - a proper RPC.
</p>

<p>
It is not even possible to implement proper <i>share-nothing</i> abstractions
(not even a single byte, leave alone a per-thread <i>call-stack</i>) with
are <i>required</i> for multi-processing in an environment which combines
imperative <i>destructive updates, sharing and multi-threading</i>. Other
people&rsquo;s crappy library code will fuck up everything.
</p>

<p>
Somehow not surprisingly, Java is the second most popular language
(after fucking Javascript), LMAO, while it is just a corporate PHP
turned into a holy catholic Church.
</p>
</div>
</div>

<div id="outline-container-org904fd31" class="outline-2">
<h2 id="org904fd31">Actual experience</h2>
<div class="outline-text-2" id="text-org904fd31">
<p>
There is an account for actual experience I have right now.
</p>

<p>
I have some simple projects using Akka and Scala 3. Everything compiles and runs, except that it prints nothing.
</p>

<p>
I tried a Scala 2 setup and copied and pasted exaples from the site. Everything compiles, runs but ptints nothing.
</p>

<p>
Here is a short list what can go wrong (given that Akka is an advanced <i>async</i> and <i>nio</i> libray).
</p>

<ul class="org-ul">
<li>the gcc 12.2.1 may not compile openjdk-17.0.5-p8 correctly</li>
<li>this may happen only with certain optimizations enabled</li>
<li>openjdk-17.0.5_p8 may have subtle async or nio bugs</li>
<li>these bugs may only materialize with compiler optimizations</li>
<li>maybe it networking has does not work due the new kernel</li>
<li>or it is just Scala. Both 2 and 3? Why not.</li>
<li>maybe scala breaks on the latest JDK 17, not being tested on it</li>
<li>maybe it is Akka on the latest JDK, because the code uses advanced APIs</li>
<li>it could be that only the latest versions of akka are affected</li>
<li>any combination of the above.</li>
</ul>

<p>
So, when someone will say to you JVM is a stable, mature, battele-tested platform on which everyone runs - return to this page and reread it.
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: &lt;schiptsov@gmail.com&gt;</p>
<p class="email">Email: <a href="mailto:lngnmn2@yahoo.com">lngnmn2@yahoo.com</a></p>
<p class="date">Created: 2023-04-11 Tue 19:53</p>
<p class="creator"><a href="https://www.gnu.org/software/emacs/">Emacs</a> 29.0.90 (<a href="https://orgmode.org">Org</a> mode 9.6.1)</p>
</div>
</body>
</html>